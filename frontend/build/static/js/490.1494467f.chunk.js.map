{"version":3,"file":"static/js/490.1494467f.chunk.js","mappings":"sPAMe,SAASA,EAAQC,GAAgB,IAAf,SAAEC,GAAUD,EAC3C,MAAOE,EAAGC,IAAQC,EAAAA,EAAAA,UAAS,KACpBC,EAAGC,IAAQF,EAAAA,EAAAA,UAAS,IACrBG,GAAMC,EAAAA,EAAAA,OACLC,EAAOC,IAAYN,EAAAA,EAAAA,UAAS,OAC5BO,EAASC,IAAcR,EAAAA,EAAAA,WAAS,GAiCvC,OACES,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,GAAI,CAAEC,QAAS,OAAQC,eAAgB,SAAUC,GAAI,GAAIC,UAC5DC,EAAAA,EAAAA,MAACC,EAAAA,EAAK,CAACN,GAAI,CAAEV,EAAG,EAAGiB,MAAO,KAAMH,SAAA,EAC9BN,EAAAA,EAAAA,KAACU,EAAAA,EAAU,CAACC,QAAQ,KAAIL,SAAC,oBACzBC,EAAAA,EAAAA,MAACN,EAAAA,EAAG,CAACW,UAAU,OAAOC,SAnC5BC,eAA4BC,GAC1BA,EAAEC,iBACFnB,EAAS,MACTE,GAAW,GACX,IACE,MAAMkB,GAAgB5B,GAAK,IAAI6B,OACzBC,EAAgBC,EAAAA,GAAiBC,SAASJ,GAChD,GAAIE,EAGF,OAFAtB,EAASsB,QACTpB,GAAW,GAIb,MAAMuB,EAAgBF,EAAAA,GAAiBG,SAAS/B,GAChD,GAAI8B,EAGF,OAFAzB,EAASyB,QACTvB,GAAW,GAIb,MAAMyB,QAAYC,EAAAA,EAAAA,IAASR,EAAczB,EAAG,MAC5CJ,EAAS,CAAEsC,MAAOF,EAAIE,MAAOC,KAAMH,EAAIG,OACvCjC,EAAI,aACN,CAAE,MAAOkC,GACP,MAAMC,GAAeC,EAAAA,EAAAA,IAAmBF,GACxC/B,EAASgC,EACX,CAAC,QACC9B,GAAW,EACb,CACF,EAMoDG,GAAI,CAAEG,GAAI,EAAGF,QAAS,OAAQ4B,IAAK,GAAIzB,SAAA,EACnFN,EAAAA,EAAAA,KAACgC,EAAAA,EAAS,CAACC,MAAM,WAAWC,MAAO7C,EAAG8C,SAAUpB,GAAKzB,EAAKyB,EAAEqB,OAAOF,OAAQG,UAAQ,KACnFrC,EAAAA,EAAAA,KAACgC,EAAAA,EAAS,CAACC,MAAM,WAAWK,KAAK,WAAWJ,MAAO1C,EAAG2C,SAAUpB,GAAKtB,EAAKsB,EAAEqB,OAAOF,OAAQG,UAAQ,KACnGrC,EAAAA,EAAAA,KAACuC,EAAAA,EAAM,CAACD,KAAK,SAAS3B,QAAQ,YAAY6B,SAAU1C,EAAQQ,SAAER,EAAU,oBAAiB,aACxFF,IAASI,EAAAA,EAAAA,KAACU,EAAAA,EAAU,CAAC+B,MAAM,QAAQ9B,QAAQ,QAAOL,SAAEV,KACrDW,EAAAA,EAAAA,MAACG,EAAAA,EAAU,CAACC,QAAQ,QAAOL,SAAA,CAAC,qBAAiBN,EAAAA,EAAAA,KAAC0C,EAAAA,GAAI,CAACC,GAAG,SAAQrC,SAAC,sBAKzE,C","sources":["pages/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Box, Paper, TextField, Button, Typography } from '@mui/material';\nimport { register } from '../api/auth';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { formatErrorMessage, clientValidation } from '../utils/errorHandling';\n\nexport default function Register({ onAuthed }) {\n  const [u, setU] = useState('');\n  const [p, setP] = useState('');\n  const nav = useNavigate();\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setError(null);\n    setLoading(true);\n    try {\n      const usernameTrim = (u || '').trim();\n      const usernameError = clientValidation.username(usernameTrim);\n      if (usernameError) {\n        setError(usernameError);\n        setLoading(false);\n        return;\n      }\n\n      const passwordError = clientValidation.password(p);\n      if (passwordError) {\n        setError(passwordError);\n        setLoading(false);\n        return;\n      }\n\n      const res = await register(usernameTrim, p, null);\n      onAuthed({ token: res.token, user: res.user });\n      nav('/dashboard');\n    } catch (err) {\n      const errorMessage = formatErrorMessage(err);\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <Box sx={{ display: 'flex', justifyContent: 'center', mt: 8 }}>\n      <Paper sx={{ p: 3, width: 420 }}>\n        <Typography variant=\"h6\">Create account</Typography>\n        <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 2, display: 'grid', gap: 2 }}>\n          <TextField label=\"Username\" value={u} onChange={e => setU(e.target.value)} required />\n          <TextField label=\"Password\" type=\"password\" value={p} onChange={e => setP(e.target.value)} required />\n          <Button type=\"submit\" variant=\"contained\" disabled={loading}>{loading ? 'Registeringâ€¦' : 'Register'}</Button>\n          {error && <Typography color=\"error\" variant=\"body2\">{error}</Typography>}\n          <Typography variant=\"body2\">Have an account? <Link to=\"/login\">Sign in</Link></Typography>\n        </Box>\n      </Paper>\n    </Box>\n  );\n}\n"],"names":["Register","_ref","onAuthed","u","setU","useState","p","setP","nav","useNavigate","error","setError","loading","setLoading","_jsx","Box","sx","display","justifyContent","mt","children","_jsxs","Paper","width","Typography","variant","component","onSubmit","async","e","preventDefault","usernameTrim","trim","usernameError","clientValidation","username","passwordError","password","res","register","token","user","err","errorMessage","formatErrorMessage","gap","TextField","label","value","onChange","target","required","type","Button","disabled","color","Link","to"],"sourceRoot":""}