{"version":3,"file":"static/js/623.012f138c.chunk.js","mappings":"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","sources":["pages/RoomSettings.jsx","../node_modules/@mui/icons-material/esm/Delete.js","../node_modules/@mui/material/ListItem/listItemClasses.js","../node_modules/@mui/material/ListItemSecondaryAction/listItemSecondaryActionClasses.js","../node_modules/@mui/material/ListItemSecondaryAction/ListItemSecondaryAction.js","../node_modules/@mui/material/ListItem/ListItem.js","../node_modules/@mui/material/ListItemButton/listItemButtonClasses.js"],"sourcesContent":["\nimport React, { useEffect, useState } from 'react';\nimport { Box, Typography, TextField, MenuItem, Button, Paper, Dialog, DialogTitle, DialogContent, DialogActions, CircularProgress, Chip, Tooltip } from '@mui/material';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { getRoomDetails, updateRoom, getRoomMembers, updatePermissions, transferOwnership, shareRoom, suggestUsers } from '../api/rooms';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport { List, ListItem, ListItemText, IconButton, MenuItem as MMenuItem } from '@mui/material';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { getSocket, setSocketToken } from '../services/socket';\n\nexport default function RoomSettings() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [room, setRoom] = useState(null);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [type, setType] = useState('public');\n  const [forbiddenOpen, setForbiddenOpen] = useState(false);\n  const [forbiddenMessage, setForbiddenMessage] = useState('');\n  const [forbiddenRedirect, setForbiddenRedirect] = useState('/dashboard');\n  const [members, setMembers] = useState([]);\n  const [loadingMembers, setLoadingMembers] = useState(false);\n  const [transferTarget, setTransferTarget] = useState('');\n  const [transferInput, setTransferInput] = useState('');\n  const [transferOptions, setTransferOptions] = useState([]);\n  const [transferSuggestLoading, setTransferSuggestLoading] = useState(false);\n  const [transferLoading, setTransferLoading] = useState(false);\n  const [myRole, setMyRole] = useState(null);\n  const [myUsername, setMyUsername] = useState(null);\n  const [isOwner, setIsOwner] = useState(false);\n  const [isEditor, setIsEditor] = useState(false);\n  const [transferConfirmOpen, setTransferConfirmOpen] = useState(false);\n  const [inviteOpen, setInviteOpen] = useState(false);\n  const [inviteInput, setInviteInput] = useState('');\n  const [inviteSelected, setInviteSelected] = useState([]);\n\n  const [inviteSelectedSuggestions, setInviteSelectedSuggestions] = useState([]);\n  const [inviteSuggestOptions, setInviteSuggestOptions] = useState([]);\n  const [inviteLoading, setInviteLoading] = useState(false);\n  const [inviteErrors, setInviteErrors] = useState([]);\n\n  // Only allow invites when at least one selected user matches a suggestion option\n  const canInvite = Array.isArray(inviteSelected) && (inviteSelected || []).some(u => {\n    const uname = (u && (u.username || u)) || '';\n    return (inviteSuggestOptions || []).some(opt => ((opt && (opt.username || opt)) === uname));\n  });\n\n  useEffect(() => {\n    async function load() {\n      try {\n        const data = await getRoomDetails(null, id);\n        setRoom(data);\n        setName(data.name || '');\n        setDescription(data.description || '');\n        setType(data.type || 'public');\n\n        await refreshMembers();\n      } catch (e) {\n        console.error('Failed to load room settings:', e);\n        if (e?.message && e.message.toLowerCase().includes('forbidden')) {\n          setForbiddenMessage('You do not have permission to view settings for this room.');\n          setForbiddenRedirect('/dashboard');\n          setForbiddenOpen(true);\n        }\n      }\n    }\n    load();\n  }, [id]);\n\n  // Socket.IO listener for real-time updates\n  useEffect(() => {\n    try {\n      const auth = JSON.parse(localStorage.getItem('auth') || '{}');\n      if (!auth?.token) return;\n\n      setSocketToken(auth.token);\n      const sock = getSocket(auth.token);\n\n      const onMemberAdded = (payload) => {\n        if (payload?.roomId === id) {\n          console.log('Member added to room:', payload);\n          refreshMembers();\n        }\n      };\n\n      const onMemberRemoved = (payload) => {\n        if (payload?.roomId === id) {\n          console.log('Member removed from room:', payload);\n          refreshMembers();\n        }\n      };\n\n      const onMemberRoleChanged = (payload) => {\n        if (payload?.roomId === id) {\n          console.log('Member role changed:', payload);\n          refreshMembers();\n        }\n      };\n\n      const onRoomUpdated = (payload) => {\n        if (payload?.roomId === id) {\n          console.log('Room settings updated:', payload);\n          if (payload.room) {\n            setRoom(payload.room);\n            setName(payload.room.name || '');\n            setDescription(payload.room.description || '');\n            setType(payload.room.type || 'public');\n          }\n          refreshMembers();\n        }\n      };\n\n      sock.on('member_added', onMemberAdded);\n      sock.on('member_removed', onMemberRemoved);\n      sock.on('member_role_changed', onMemberRoleChanged);\n      sock.on('room_updated', onRoomUpdated);\n\n      return () => {\n        try {\n          sock.off('member_added', onMemberAdded);\n          sock.off('member_removed', onMemberRemoved);\n          sock.off('member_role_changed', onMemberRoleChanged);\n          sock.off('room_updated', onRoomUpdated);\n        } catch (e) { }\n      };\n    } catch (e) {\n      console.error('Failed to setup socket listeners:', e);\n    }\n  }, [id]);\n\n  // Helper to refresh members and compute current user's role\n  async function refreshMembers() {\n    setLoadingMembers(true);\n    try {\n      const ms = await getRoomMembers(null, id);\n      const all = ms || [];\n      setMembers(all);\n      // initialize transfer options from members (exclude owner)\n      try { setTransferOptions((all || []).filter(m => m.role !== 'owner').map(m => m.username || '')); } catch (_) { setTransferOptions([]); }\n      // determine current user from localStorage auth\n      try {\n        const raw = localStorage.getItem('auth');\n        const parsed = raw ? JSON.parse(raw) : null;\n        const uname = parsed?.user?.username || parsed?.user?.username;\n        setMyUsername(uname || null);\n        const mine = all.find(x => x.username === uname);\n        const role = mine?.role || null;\n        setMyRole(role);\n        setIsOwner(role === 'owner');\n        setIsEditor(role === 'editor' || role === 'owner');\n\n        if (role === 'viewer') {\n          try {\n            window.dispatchEvent(new CustomEvent('rescanvas:notify', { detail: { message: 'Viewers cannot access room settings. Redirecting to the room...', duration: 4500 } }));\n          } catch (evErr) { console.warn('notify failed', evErr); }\n\n          setTimeout(() => {\n            try { navigate(`/rooms/${id}`); } catch (_) { }\n          }, 600);\n        }\n      } catch (e) {\n        setMyRole(null); setMyUsername(null); setIsOwner(false); setIsEditor(false);\n      }\n    } catch (e) {\n      console.warn('Failed to load members', e);\n      setMembers([]);\n      setMyRole(null); setMyUsername(null); setIsOwner(false); setIsEditor(false);\n    } finally { setLoadingMembers(false); }\n  }\n\n  async function save() {\n    try {\n      // Only include fields the current user is allowed to change.\n      // Editors/owners may change name and description. Only owners may change type.\n      const body = { name, description };\n      if (isOwner) body.type = type;\n      const res = await updateRoom(null, id, body);\n\n      if (res && res.id) {\n        setRoom(prev => ({ ...prev, ...res }));\n      } else if (res && res.room) {\n        setRoom(res.room);\n      }\n\n      try {\n        window.dispatchEvent(new CustomEvent('rescanvas:notify', { detail: { message: 'Room settings saved', duration: 2000 } }));\n      } catch (evErr) { console.warn('notify failed', evErr); }\n\n      setTimeout(() => navigate(`/rooms/${id}`), 250);\n    } catch (e) {\n      console.error('Failed to save room settings:', e);\n      if (e?.message && e.message.toLowerCase().includes('forbidden')) {\n        setForbiddenMessage('You do not have permission to change settings for this room.');\n        setForbiddenRedirect(`/rooms/${id}`);\n        setForbiddenOpen(true);\n      } else {\n        try {\n          window.dispatchEvent(new CustomEvent('rescanvas:notify', { detail: { message: 'Failed to save settings: ' + (e?.message || e), duration: 4000 } }));\n        } catch (evErr) { console.warn('notify failed', evErr); }\n      }\n    }\n  }\n\n  async function changeMemberRole(userId, role) {\n    try {\n      await updatePermissions(null, id, { userId, role });\n      await refreshMembers();\n      try {\n        window.dispatchEvent(new CustomEvent('rescanvas:notify', { detail: { message: 'Member role updated', duration: 2000 } }));\n      } catch (evErr) { console.warn('notify failed', evErr); }\n    } catch (e) {\n      console.error('Failed to change role', e);\n      try {\n        window.dispatchEvent(new CustomEvent('rescanvas:notify', { detail: { message: 'Failed to change role: ' + (e?.message || e), duration: 4000 } }));\n      } catch (evErr) { console.warn('notify failed', evErr); }\n      await refreshMembers();\n    }\n  }\n\n  async function kickMember(userId) {\n    try {\n      await updatePermissions(null, id, { userId });\n      await refreshMembers();\n      try {\n        window.dispatchEvent(new CustomEvent('rescanvas:notify', { detail: { message: 'Member removed', duration: 2000 } }));\n      } catch (evErr) { console.warn('notify failed', evErr); }\n    } catch (e) {\n      console.error('Failed to remove member', e);\n      try {\n        window.dispatchEvent(new CustomEvent('rescanvas:notify', { detail: { message: 'Failed to remove member: ' + (e?.message || e), duration: 4000 } }));\n      } catch (evErr) { console.warn('notify failed', evErr); }\n    }\n  }\n\n  async function doTransfer() {\n    if (!transferTarget) return;\n    setTransferLoading(true);\n    try {\n      await transferOwnership(null, id, transferTarget);\n\n      const data = await getRoomDetails(null, id);\n      setRoom(data);\n      await refreshMembers();\n\n      try {\n        window.dispatchEvent(new CustomEvent('rescanvas:notify', { detail: { message: `Ownership transferred to ${transferTarget}`, duration: 4000 } }));\n      } catch (evErr) {\n        console.log('notify dispatch failed', evErr);\n      }\n      setTransferTarget('');\n    } catch (e) {\n      console.error('Transfer failed', e);\n      try {\n        window.dispatchEvent(new CustomEvent('rescanvas:notify', { detail: { message: 'Transfer failed: ' + (e?.message || e), duration: 6000 } }));\n      } catch (evErr) {\n        console.log('notify dispatch failed', evErr);\n      }\n      throw e;\n    } finally {\n      setTransferLoading(false);\n    }\n  }\n\n  if (!room) return <Typography>Loading...</Typography>;\n\n  return (\n    <Box sx={{ p: 2 }}>\n      <Paper sx={{ p: 2 }}>\n        <Typography variant=\"h6\">Settings for {room.name}</Typography>\n        <Tooltip title={isEditor ? '' : 'Only owners and editors may change name'}>\n          <span>\n            <TextField label=\"Name\" value={name} onChange={e => setName(e.target.value)} fullWidth sx={{ my: 1 }} disabled={!isEditor} />\n          </span>\n        </Tooltip>\n        <Tooltip title={isEditor ? '' : 'Only owners and editors may change description'}>\n          <span>\n            <TextField label=\"Description\" value={description} onChange={e => setDescription(e.target.value)} fullWidth sx={{ my: 1 }} disabled={!isEditor} />\n          </span>\n        </Tooltip>\n        <Tooltip title={isOwner ? '' : 'Only owners may change room type'}>\n          <span>\n            <TextField select label=\"Type\" value={type} onChange={e => setType(e.target.value)} fullWidth sx={{ my: 1 }} disabled={!isOwner}>\n              <MenuItem value=\"public\">Public</MenuItem>\n              <MenuItem value=\"private\">Private</MenuItem>\n              <MenuItem value=\"secure\">Secure</MenuItem>\n            </TextField>\n          </span>\n        </Tooltip>\n\n        <Box sx={{ display: 'flex', gap: 1, mt: 2 }}>\n          <Tooltip title={isEditor ? '' : 'Only owners and editors may save changes'}>\n            <span>\n              <Button variant=\"contained\" onClick={save} disabled={!isEditor}>Save</Button>\n            </span>\n          </Tooltip>\n          <Button variant=\"outlined\" onClick={() => navigate(`/rooms/${id}`)}>Cancel</Button>\n        </Box>\n      </Paper>\n\n      <Paper sx={{ p: 2, mt: 2, maxWidth: '100%' }}>\n        <Typography variant=\"h6\">Members</Typography>\n        {loadingMembers ? <Typography>Loading members...</Typography> : (\n          <List>\n            {members.map(m => (\n              <ListItem key={m.userId} secondaryAction={(\n                <Box sx={{ display: 'flex', gap: 1, alignItems: 'center' }}>\n                  {m.role !== 'owner' && (\n                    !isOwner ? (\n                      <Tooltip title=\"Only the room owner can change member roles\">\n                        <span>\n                          <TextField size=\"small\" select value={m.role || 'editor'} sx={{ minWidth: 120, mr: 1 }} disabled />\n                        </span>\n                      </Tooltip>\n                    ) : (\n                      <TextField\n                        size=\"small\"\n                        select\n                        value={m.role || 'editor'}\n                        onChange={(e) => changeMemberRole(m.userId, e.target.value)}\n                        sx={{ minWidth: 120, mr: 1 }}\n                      >\n                        <MenuItem value=\"editor\">Editor</MenuItem>\n                        <MenuItem value=\"viewer\">Viewer</MenuItem>\n                      </TextField>\n                    )\n                  )}\n\n                  {m.role !== 'owner' && (\n                    !isOwner ? (\n                      <Tooltip title=\"Only the room owner can remove members\">\n                        <span>\n                          <IconButton edge=\"end\" aria-label=\"kick\" disabled>\n                            <DeleteIcon />\n                          </IconButton>\n                        </span>\n                      </Tooltip>\n                    ) : (\n                      <IconButton edge=\"end\" aria-label=\"kick\" onClick={() => kickMember(m.userId)}>\n                        <DeleteIcon />\n                      </IconButton>\n                    )\n                  )}\n                </Box>\n              )}>\n                <ListItemText primary={m.username} secondary={m.role} />\n              </ListItem>\n            ))}\n          </List>\n        )}\n\n        {room.type !== 'public' && (\n          <Box sx={{ mt: 1 }}>\n            <Typography variant=\"body2\">Invite users to this private/secure room</Typography>\n            <Autocomplete\n              multiple\n              freeSolo\n              open={inviteOpen}\n              onOpen={() => setInviteOpen(true)}\n              onClose={() => setInviteOpen(false)}\n              disabled={myRole === 'viewer'}\n              inputValue={inviteInput}\n              onInputChange={(e, v) => setInviteInput(v)}\n              options={inviteSuggestOptions}\n              value={inviteSelected}\n              getOptionLabel={(opt) => typeof opt === 'string' ? opt : (opt.username || '')}\n              isOptionEqualToValue={(opt, val) => (opt.username || opt) === (val.username || val)}\n              loading={inviteLoading}\n              onChange={(e, newValue) => {\n                try {\n                  const selectedFromSuggest = (newValue || []).filter(v => typeof v !== 'string').map(v => (v && (v.username || v)) || '');\n                  setInviteSelectedSuggestions(selectedFromSuggest.filter(Boolean));\n                } catch (_) { setInviteSelectedSuggestions([]); }\n\n                const norm = (newValue || []).map(v => typeof v === 'string' ? { username: v, role: 'editor' } : { username: v.username || '', role: v.role || 'editor' }).filter(x => x.username);\n                setInviteSelected(norm);\n                setInviteInput('');\n                try { const remaining = (inviteErrors || []).filter(err => norm.some(n => n.username === err.username)); setInviteErrors(remaining); } catch (_) { }\n              }}\n              filterSelectedOptions\n              renderTags={(value, getTagProps) => {\n                const errMap = (inviteErrors || []).reduce((acc, e) => { acc[e.username] = e; return acc; }, {});\n                return value.map((option, index) => {\n                  const tagProps = getTagProps({ index }) || {};\n                  const { key: _tagKey, ...tagPropsSafe } = tagProps;\n                  const err = errMap[option.username];\n                  return (\n                    <Box key={option.username + index} sx={{ display: 'inline-flex', alignItems: 'center', gap: 0.5 }}>\n                      {err ? (\n                        <Tooltip title={`${err.error || 'user not found.'}`} placement=\"top\">\n                          <Chip {...tagPropsSafe} label={option.username} color=\"error\" />\n                        </Tooltip>\n                      ) : (\n                        <Chip {...tagPropsSafe} label={option.username} />\n                      )}\n                      <TextField\n                        size=\"small\"\n                        select\n                        value={option.role || 'editor'}\n                        onChange={(e) => setInviteSelected(prev => prev.map(p => p.username === option.username ? { ...p, role: e.target.value } : p))}\n                        sx={{ minWidth: 110 }}\n                      >\n                        <MenuItem value=\"editor\">Editor</MenuItem>\n                        <MenuItem value=\"viewer\">Viewer</MenuItem>\n                      </TextField>\n                    </Box>\n                  );\n                });\n              }}\n              renderInput={(params) => {\n                const { ownerState, sx, className, ...safeParams } = params || {};\n                return (\n                  <TextField\n                    {...safeParams}\n                    label=\"Usernames\"\n                    fullWidth\n                    onChange={async (ev) => {\n                      const v = ev.target.value;\n                      setInviteInput(v);\n                      if (!v || v.length < 2) { setInviteSuggestOptions([]); return; }\n                      setInviteLoading(true);\n                      try {\n                        const opts = await suggestUsers(null, v);\n                        setInviteSuggestOptions(opts || []);\n                      } catch (err) { console.warn('suggestUsers failed', err); setInviteSuggestOptions([]); }\n                      finally { setInviteLoading(false); }\n                    }}\n                    InputProps={{\n                      ...safeParams.InputProps,\n                      endAdornment: (\n                        <>\n                          {inviteLoading ? <CircularProgress color=\"inherit\" size={20} /> : null}\n                          {safeParams.InputProps?.endAdornment}\n                        </>\n                      )\n                    }}\n                  />\n                );\n              }}\n            />\n            <Box sx={{ mt: 1 }}>\n              <Button\n                variant=\"outlined\"\n                onClick={async () => {\n                  // commit invites\n                  let users = inviteSelected.slice();\n                  if (inviteInput && inviteInput.trim()) users.push({ username: inviteInput.trim(), role: 'editor' });\n                  if (!users.length) return;\n                  try {\n                    const resp = await shareRoom(null, id, users);\n                    const res = resp && resp.results ? resp.results : {};\n                    const errors = res.errors || [];\n                    setInviteErrors(errors);\n                    if (!errors.length) {\n                      setInviteSelected([]); setInviteInput('');\n                      await refreshMembers();\n                      try {\n                        window.dispatchEvent(new CustomEvent('rescanvas:notify', { detail: { message: 'Invitations sent successfully', duration: 3000 } }));\n                      } catch (evErr) { console.warn('notify failed', evErr); }\n                    } else {\n                      // keep dialog state for corrections\n                      const succeeded = (res.invited || []).map(i => i.username).concat((res.updated || []).map(i => i.username));\n                      if (succeeded.length) {\n                        await refreshMembers();\n                      }\n                    }\n                  } catch (e) {\n                    console.error('Invite failed', e);\n                    try {\n                      window.dispatchEvent(new CustomEvent('rescanvas:notify', { detail: { message: 'Failed to send invites: ' + (e?.message || e), duration: 4000 } }));\n                    } catch (evErr) { console.warn('notify failed', evErr); }\n                  }\n                }}\n                disabled={!canInvite}\n              >Send invites / Add to room</Button>\n            </Box>\n            {inviteErrors.length > 0 && (\n              <Box sx={{ mt: 1 }}>\n                <Typography variant=\"body2\" color=\"error\">Some usernames had errors:</Typography>\n                {inviteErrors.map((err, idx) => (\n                  <Paper key={idx} sx={{ p: 1, mt: 0.5 }}>\n                    <Typography variant=\"body2\"><strong>{err.username}</strong>: {err.error}</Typography>\n                    {err.suggestions && err.suggestions.length > 0 && (<Typography variant=\"caption\">Suggestions: {err.suggestions.join(', ')}</Typography>)}\n                  </Paper>\n                ))}\n              </Box>\n            )}\n          </Box>\n        )}\n\n        <Box sx={{ mt: 2 }}>\n          <Typography variant=\"h6\">Transfer ownership</Typography>\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            <Tooltip title={isOwner ? '' : 'Only the room owner may transfer ownership'}>\n              <span>\n                <Autocomplete\n                  freeSolo\n                  size=\"small\"\n                  disabled={!isOwner}\n                  options={transferOptions}\n                  value={transferTarget || null}\n                  inputValue={transferInput}\n                  onInputChange={async (e, v) => {\n                    setTransferInput(v);\n                    if (!v || v.length < 2) {\n                      setTransferOptions((members || []).filter(m => m.role !== 'owner').map(m => m.username || ''));\n                      setTransferSuggestLoading(false);\n                      return;\n                    }\n                    setTransferSuggestLoading(true);\n                    try {\n                      const opts = await suggestUsers(null, v);\n                      const names = (opts || []).map(o => (o && (o.username || o)) || '').filter(Boolean);\n                      const memberNames = (members || []).filter(m => m.role !== 'owner').map(m => m.username || '');\n                      const combined = Array.from(new Set(memberNames.concat(names)));\n                      setTransferOptions(combined);\n                    } catch (err) {\n                      console.warn('suggestUsers failed', err);\n                      setTransferOptions((members || []).filter(m => m.role !== 'owner').map(m => m.username || ''));\n                    } finally {\n                      setTransferSuggestLoading(false);\n                    }\n                  }}\n                  openOnFocus\n                  autoHighlight\n                  onChange={(e, v) => {\n                    // When a suggestion is selected (or user commits a freeSolo value), accept it\n                    if (!v) { setTransferTarget(''); setTransferInput(''); return; }\n                    const value = typeof v === 'string' ? v : (v && (v.username || ''));\n                    setTransferTarget(value || '');\n                    setTransferInput(value || '');\n                  }}\n                  filterOptions={(options, state) => {\n                    const input = ((state.inputValue || '') + '').trim().toLowerCase();\n                    if (!input) return options;\n                    return options.filter(o => ((o || '') + '').toLowerCase().includes(input));\n                  }}\n                  sx={{ minWidth: 220, mr: 1, maxWidth: 360 }}\n                  renderInput={(params) => {\n                    const { ownerState, sx, className, ...safeParams } = params || {};\n                    return (\n                      <TextField\n                        {...safeParams}\n                        label=\"New owner\"\n                        placeholder=\"Type to search...\"\n                        size=\"small\"\n                        InputProps={{\n                          ...(safeParams && safeParams.InputProps ? safeParams.InputProps : {}),\n                          endAdornment: (\n                            <>\n                              {transferSuggestLoading ? <CircularProgress color=\"inherit\" size={20} /> : null}\n                              {safeParams.InputProps?.endAdornment}\n                            </>\n                          )\n                        }}\n                      />\n                    );\n                  }}\n                />\n              </span>\n            </Tooltip>\n            <Tooltip title={isOwner ? '' : 'Only the room owner may transfer ownership'}>\n              <span>\n                <Button variant=\"contained\" color=\"primary\" onClick={() => setTransferConfirmOpen(true)} disabled={!isOwner || transferLoading || !(transferTarget && transferTarget.trim())} sx={{ height: 36 }}>\n                  {transferLoading ? 'Transferring...' : 'Transfer'}\n                </Button>\n              </span>\n            </Tooltip>\n          </Box>\n          <Dialog open={transferConfirmOpen} onClose={() => setTransferConfirmOpen(false)}>\n            <DialogTitle>Confirm transfer</DialogTitle>\n            <DialogContent>\n              <Typography>Are you sure you want to transfer ownership of <strong>{room.name}</strong> to <strong>{transferTarget}</strong>? This will make them the new owner and downgrade you to an editor.</Typography>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={() => setTransferConfirmOpen(false)}>Cancel</Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={async () => {\n                  setTransferConfirmOpen(false);\n                  try {\n                    await doTransfer();\n                  } catch (e) {\n                    // doTransfer already emits notifications\n                  }\n                }}\n                disabled={transferLoading}\n              >\n                {transferLoading ? 'Transferring...' : 'Confirm'}\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </Box>\n      </Paper>\n\n      <Dialog open={forbiddenOpen} onClose={() => { setForbiddenOpen(false); navigate(forbiddenRedirect); }}>\n        <DialogTitle>Access denied</DialogTitle>\n        <DialogContent>\n          <Typography>{forbiddenMessage || 'You do not have permission to access the settings for this room.'}</Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => { setForbiddenOpen(false); navigate(forbiddenRedirect); }}>OK</Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n}\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z\"\n}), 'Delete');","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getListItemUtilityClass(slot) {\n  return generateUtilityClass('MuiListItem', slot);\n}\nconst listItemClasses = generateUtilityClasses('MuiListItem', ['root', 'container', 'dense', 'alignItemsFlexStart', 'divider', 'gutters', 'padding', 'secondaryAction']);\nexport default listItemClasses;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getListItemSecondaryActionClassesUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemSecondaryAction', slot);\n}\nconst listItemSecondaryActionClasses = generateUtilityClasses('MuiListItemSecondaryAction', ['root', 'disableGutters']);\nexport default listItemSecondaryActionClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { styled } from \"../zero-styled/index.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport ListContext from \"../List/ListContext.js\";\nimport { getListItemSecondaryActionClassesUtilityClass } from \"./listItemSecondaryActionClasses.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    disableGutters,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', disableGutters && 'disableGutters']\n  };\n  return composeClasses(slots, getListItemSecondaryActionClassesUtilityClass, classes);\n};\nconst ListItemSecondaryActionRoot = styled('div', {\n  name: 'MuiListItemSecondaryAction',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.disableGutters && styles.disableGutters];\n  }\n})({\n  position: 'absolute',\n  right: 16,\n  top: '50%',\n  transform: 'translateY(-50%)',\n  variants: [{\n    props: ({\n      ownerState\n    }) => ownerState.disableGutters,\n    style: {\n      right: 0\n    }\n  }]\n});\n\n/**\n * Must be used as the last child of ListItem to function properly.\n *\n * @deprecated Use the `secondaryAction` prop in the `ListItem` component instead. This component will be removed in v7. See [Migrating from deprecated APIs](https://mui.com/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n */\nconst ListItemSecondaryAction = /*#__PURE__*/React.forwardRef(function ListItemSecondaryAction(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiListItemSecondaryAction'\n  });\n  const {\n    className,\n    ...other\n  } = props;\n  const context = React.useContext(ListContext);\n  const ownerState = {\n    ...props,\n    disableGutters: context.disableGutters\n  };\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ListItemSecondaryActionRoot, {\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref,\n    ...other\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemSecondaryAction.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * The content of the component, normally an `IconButton` or selection control.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nListItemSecondaryAction.muiName = 'ListItemSecondaryAction';\nexport default ListItemSecondaryAction;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport elementTypeAcceptingRef from '@mui/utils/elementTypeAcceptingRef';\nimport chainPropTypes from '@mui/utils/chainPropTypes';\nimport isHostComponent from \"../utils/isHostComponent.js\";\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport isMuiElement from \"../utils/isMuiElement.js\";\nimport useForkRef from \"../utils/useForkRef.js\";\nimport ListContext from \"../List/ListContext.js\";\nimport { getListItemUtilityClass } from \"./listItemClasses.js\";\nimport { listItemButtonClasses } from \"../ListItemButton/index.js\";\nimport ListItemSecondaryAction from \"../ListItemSecondaryAction/index.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, ownerState.dense && styles.dense, ownerState.alignItems === 'flex-start' && styles.alignItemsFlexStart, ownerState.divider && styles.divider, !ownerState.disableGutters && styles.gutters, !ownerState.disablePadding && styles.padding, ownerState.hasSecondaryAction && styles.secondaryAction];\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    alignItems,\n    classes,\n    dense,\n    disableGutters,\n    disablePadding,\n    divider,\n    hasSecondaryAction\n  } = ownerState;\n  const slots = {\n    root: ['root', dense && 'dense', !disableGutters && 'gutters', !disablePadding && 'padding', divider && 'divider', alignItems === 'flex-start' && 'alignItemsFlexStart', hasSecondaryAction && 'secondaryAction'],\n    container: ['container']\n  };\n  return composeClasses(slots, getListItemUtilityClass, classes);\n};\nexport const ListItemRoot = styled('div', {\n  name: 'MuiListItem',\n  slot: 'Root',\n  overridesResolver\n})(memoTheme(({\n  theme\n}) => ({\n  display: 'flex',\n  justifyContent: 'flex-start',\n  alignItems: 'center',\n  position: 'relative',\n  textDecoration: 'none',\n  width: '100%',\n  boxSizing: 'border-box',\n  textAlign: 'left',\n  variants: [{\n    props: ({\n      ownerState\n    }) => !ownerState.disablePadding,\n    style: {\n      paddingTop: 8,\n      paddingBottom: 8\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => !ownerState.disablePadding && ownerState.dense,\n    style: {\n      paddingTop: 4,\n      paddingBottom: 4\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => !ownerState.disablePadding && !ownerState.disableGutters,\n    style: {\n      paddingLeft: 16,\n      paddingRight: 16\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => !ownerState.disablePadding && !!ownerState.secondaryAction,\n    style: {\n      // Add some space to avoid collision as `ListItemSecondaryAction`\n      // is absolutely positioned.\n      paddingRight: 48\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => !!ownerState.secondaryAction,\n    style: {\n      [`& > .${listItemButtonClasses.root}`]: {\n        paddingRight: 48\n      }\n    }\n  }, {\n    props: {\n      alignItems: 'flex-start'\n    },\n    style: {\n      alignItems: 'flex-start'\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => ownerState.divider,\n    style: {\n      borderBottom: `1px solid ${(theme.vars || theme).palette.divider}`,\n      backgroundClip: 'padding-box'\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => ownerState.button,\n    style: {\n      transition: theme.transitions.create('background-color', {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&:hover': {\n        textDecoration: 'none',\n        backgroundColor: (theme.vars || theme).palette.action.hover,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => ownerState.hasSecondaryAction,\n    style: {\n      // Add some space to avoid collision as `ListItemSecondaryAction`\n      // is absolutely positioned.\n      paddingRight: 48\n    }\n  }]\n})));\nconst ListItemContainer = styled('li', {\n  name: 'MuiListItem',\n  slot: 'Container',\n  overridesResolver: (props, styles) => styles.container\n})({\n  position: 'relative'\n});\n\n/**\n * Uses an additional container component if `ListItemSecondaryAction` is the last child.\n */\nconst ListItem = /*#__PURE__*/React.forwardRef(function ListItem(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiListItem'\n  });\n  const {\n    alignItems = 'center',\n    children: childrenProp,\n    className,\n    component: componentProp,\n    components = {},\n    componentsProps = {},\n    ContainerComponent = 'li',\n    ContainerProps: {\n      className: ContainerClassName,\n      ...ContainerProps\n    } = {},\n    dense = false,\n    disableGutters = false,\n    disablePadding = false,\n    divider = false,\n    secondaryAction,\n    slotProps = {},\n    slots = {},\n    ...other\n  } = props;\n  const context = React.useContext(ListContext);\n  const childContext = React.useMemo(() => ({\n    dense: dense || context.dense || false,\n    alignItems,\n    disableGutters\n  }), [alignItems, context.dense, dense, disableGutters]);\n  const listItemRef = React.useRef(null);\n  const children = React.Children.toArray(childrenProp);\n\n  // v4 implementation, deprecated in v6, will be removed in v7\n  const hasSecondaryAction = children.length && isMuiElement(children[children.length - 1], ['ListItemSecondaryAction']);\n  const ownerState = {\n    ...props,\n    alignItems,\n    dense: childContext.dense,\n    disableGutters,\n    disablePadding,\n    divider,\n    hasSecondaryAction\n  };\n  const classes = useUtilityClasses(ownerState);\n  const handleRef = useForkRef(listItemRef, ref);\n  const Root = slots.root || components.Root || ListItemRoot;\n  const rootProps = slotProps.root || componentsProps.root || {};\n  const componentProps = {\n    className: clsx(classes.root, rootProps.className, className),\n    ...other\n  };\n  let Component = componentProp || 'li';\n\n  // v4 implementation, deprecated in v6, will be removed in v7\n  if (hasSecondaryAction) {\n    // Use div by default.\n    Component = !componentProps.component && !componentProp ? 'div' : Component;\n\n    // Avoid nesting of li > li.\n    if (ContainerComponent === 'li') {\n      if (Component === 'li') {\n        Component = 'div';\n      } else if (componentProps.component === 'li') {\n        componentProps.component = 'div';\n      }\n    }\n    return /*#__PURE__*/_jsx(ListContext.Provider, {\n      value: childContext,\n      children: /*#__PURE__*/_jsxs(ListItemContainer, {\n        as: ContainerComponent,\n        className: clsx(classes.container, ContainerClassName),\n        ref: handleRef,\n        ownerState: ownerState,\n        ...ContainerProps,\n        children: [/*#__PURE__*/_jsx(Root, {\n          ...rootProps,\n          ...(!isHostComponent(Root) && {\n            as: Component,\n            ownerState: {\n              ...ownerState,\n              ...rootProps.ownerState\n            }\n          }),\n          ...componentProps,\n          children: children\n        }), children.pop()]\n      })\n    });\n  }\n  return /*#__PURE__*/_jsx(ListContext.Provider, {\n    value: childContext,\n    children: /*#__PURE__*/_jsxs(Root, {\n      ...rootProps,\n      as: Component,\n      ref: handleRef,\n      ...(!isHostComponent(Root) && {\n        ownerState: {\n          ...ownerState,\n          ...rootProps.ownerState\n        }\n      }),\n      ...componentProps,\n      children: [children, secondaryAction && /*#__PURE__*/_jsx(ListItemSecondaryAction, {\n        children: secondaryAction\n      })]\n    })\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItem.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * Defines the `align-items` style property.\n   * @default 'center'\n   */\n  alignItems: PropTypes.oneOf(['center', 'flex-start']),\n  /**\n   * The content of the component if a `ListItemSecondaryAction` is used it must\n   * be the last child.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    const children = React.Children.toArray(props.children);\n\n    // React.Children.toArray(props.children).findLastIndex(isListItemSecondaryAction)\n    let secondaryActionIndex = -1;\n    for (let i = children.length - 1; i >= 0; i -= 1) {\n      const child = children[i];\n      if (isMuiElement(child, ['ListItemSecondaryAction'])) {\n        secondaryActionIndex = i;\n        break;\n      }\n    }\n\n    //  is ListItemSecondaryAction the last child of ListItem\n    if (secondaryActionIndex !== -1 && secondaryActionIndex !== children.length - 1) {\n      return new Error('MUI: You used an element after ListItemSecondaryAction. ' + 'For ListItem to detect that it has a secondary action ' + 'you must pass it as the last child to ListItem.');\n    }\n    return null;\n  }),\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The components used for each slot inside.\n   *\n   * @deprecated Use the `slots` prop instead. This prop will be removed in v7. See [Migrating from deprecated APIs](https://mui.com/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   * @default {}\n   */\n  components: PropTypes.shape({\n    Root: PropTypes.elementType\n  }),\n  /**\n   * The extra props for the slot components.\n   * You can override the existing props or add new ones.\n   *\n   * @deprecated Use the `slotProps` prop instead. This prop will be removed in v7. See [Migrating from deprecated APIs](https://mui.com/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   * @default {}\n   */\n  componentsProps: PropTypes.shape({\n    root: PropTypes.object\n  }),\n  /**\n   * The container component used when a `ListItemSecondaryAction` is the last child.\n   * @default 'li'\n   * @deprecated Use the `component` or `slots.root` prop instead. This prop will be removed in v7. See [Migrating from deprecated APIs](https://mui.com/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  ContainerComponent: elementTypeAcceptingRef,\n  /**\n   * Props applied to the container component if used.\n   * @default {}\n   * @deprecated Use the `slotProps.root` prop instead. This prop will be removed in v7. See [Migrating from deprecated APIs](https://mui.com/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  ContainerProps: PropTypes.object,\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input is used.\n   * The prop defaults to the value inherited from the parent List component.\n   * @default false\n   */\n  dense: PropTypes.bool,\n  /**\n   * If `true`, the left and right padding is removed.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n  /**\n   * If `true`, all padding is removed.\n   * @default false\n   */\n  disablePadding: PropTypes.bool,\n  /**\n   * If `true`, a 1px light border is added to the bottom of the list item.\n   * @default false\n   */\n  divider: PropTypes.bool,\n  /**\n   * The element to display at the end of ListItem.\n   */\n  secondaryAction: PropTypes.node,\n  /**\n   * The extra props for the slot components.\n   * You can override the existing props or add new ones.\n   *\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    root: PropTypes.object\n  }),\n  /**\n   * The components used for each slot inside.\n   *\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    root: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItem;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getListItemButtonUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemButton', slot);\n}\nconst listItemButtonClasses = generateUtilityClasses('MuiListItemButton', ['root', 'focusVisible', 'dense', 'alignItemsFlexStart', 'disabled', 'divider', 'gutters', 'selected']);\nexport default listItemButtonClasses;"],"names":["RoomSettings","id","useParams","navigate","useNavigate","room","setRoom","useState","name","setName","description","setDescription","type","setType","forbiddenOpen","setForbiddenOpen","forbiddenMessage","setForbiddenMessage","forbiddenRedirect","setForbiddenRedirect","members","setMembers","loadingMembers","setLoadingMembers","transferTarget","setTransferTarget","transferInput","setTransferInput","transferOptions","setTransferOptions","transferSuggestLoading","setTransferSuggestLoading","transferLoading","setTransferLoading","myRole","setMyRole","myUsername","setMyUsername","isOwner","setIsOwner","isEditor","setIsEditor","transferConfirmOpen","setTransferConfirmOpen","inviteOpen","setInviteOpen","inviteInput","setInviteInput","inviteSelected","setInviteSelected","inviteSelectedSuggestions","setInviteSelectedSuggestions","inviteSuggestOptions","setInviteSuggestOptions","inviteLoading","setInviteLoading","inviteErrors","setInviteErrors","canInvite","Array","isArray","some","u","uname","username","opt","async","refreshMembers","all","getRoomMembers","filter","m","role","map","_","_parsed$user","_parsed$user2","raw","localStorage","getItem","parsed","JSON","parse","user","mine","find","x","window","dispatchEvent","CustomEvent","detail","message","duration","evErr","console","warn","setTimeout","e","useEffect","data","getRoomDetails","error","toLowerCase","includes","load","auth","token","setSocketToken","sock","getSocket","onMemberAdded","payload","roomId","log","onMemberRemoved","onMemberRoleChanged","onRoomUpdated","on","off","_jsxs","Box","sx","p","children","Paper","Typography","variant","_jsx","Tooltip","title","TextField","label","value","onChange","target","fullWidth","my","disabled","select","MenuItem","display","gap","mt","Button","onClick","body","res","updateRoom","prev","maxWidth","List","ListItem","secondaryAction","alignItems","size","userId","updatePermissions","changeMemberRole","minWidth","mr","IconButton","edge","kickMember","DeleteIcon","ListItemText","primary","secondary","Autocomplete","multiple","freeSolo","open","onOpen","onClose","inputValue","onInputChange","v","options","getOptionLabel","isOptionEqualToValue","val","loading","newValue","selectedFromSuggest","Boolean","norm","remaining","err","n","filterSelectedOptions","renderTags","getTagProps","errMap","reduce","acc","option","index","tagProps","key","_tagKey","tagPropsSafe","placement","Chip","color","renderInput","params","_safeParams$InputProp","ownerState","className","safeParams","ev","length","opts","suggestUsers","InputProps","endAdornment","_Fragment","CircularProgress","users","slice","trim","push","resp","shareRoom","results","errors","invited","i","concat","updated","idx","suggestions","join","names","o","memberNames","combined","from","Set","openOnFocus","autoHighlight","filterOptions","state","input","_safeParams$InputProp2","placeholder","height","Dialog","DialogTitle","DialogContent","DialogActions","transferOwnership","doTransfer","createSvgIcon","d","getListItemUtilityClass","slot","generateUtilityClass","generateUtilityClasses","getListItemSecondaryActionClassesUtilityClass","ListItemSecondaryActionRoot","styled","overridesResolver","props","styles","root","disableGutters","position","right","top","transform","variants","_ref","style","ListItemSecondaryAction","React","inProps","ref","useDefaultProps","other","context","ListContext","classes","slots","composeClasses","useUtilityClasses","clsx","muiName","ListItemRoot","dense","alignItemsFlexStart","divider","gutters","disablePadding","padding","hasSecondaryAction","memoTheme","theme","justifyContent","textDecoration","width","boxSizing","textAlign","_ref2","paddingTop","paddingBottom","_ref3","_ref4","paddingLeft","paddingRight","_ref5","_ref6","listItemButtonClasses","_ref7","borderBottom","vars","palette","backgroundClip","_ref8","button","transition","transitions","create","shortest","backgroundColor","action","hover","_ref9","ListItemContainer","container","childrenProp","component","componentProp","components","componentsProps","ContainerComponent","ContainerProps","ContainerClassName","slotProps","childContext","listItemRef","toArray","isMuiElement","handleRef","useForkRef","Root","rootProps","componentProps","Component","Provider","as","isHostComponent","pop","getListItemButtonUtilityClass"],"sourceRoot":""}